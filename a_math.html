<!DOCTYPE html>
<html>
<head>

</head>
   
<body>
    <div id="box1">
        <label>Number A:<input id="radio-a" type="radio" name="math-obj" value="a"></label><input id="num-a" type="text">
        <label>Number B:<input id="radio-b" type="radio" name="math-obj" value="b"></label><input id="num-b" type="text">
    </div>
    <div id="box2">
        <button id="btn1">判断当前选中的输入框输入内容是否为数字</button>
        <button id="btn2">把 A 四舍五入为 B 个小数位数的数字</button>
        <button id="btn3">当前选中数字的绝对值</button>
        <button id="btn4">对当前选中的数字进行上舍入</button>
        <button id="btn5">对当前选中的数字进行下舍入</button>
        <button id="btn6">把当前选中的数字四舍五入为最接近的整数</button>
        <button id="btn7">返回 A 和 B 中的最高值</button>
        <button id="btn8">返回 A 和 B 中的最低值</button>        
    </div>
    <p id="result"></p>

    <script>
        var numbera //输入框a
        var numberb //输入框b
        var box1 =document.getElementById("box1");
        var box2 =document.getElementById("box2");
        var numbernow;//选中的数字
        var nana = document.getElementById("num-a");
        var nanb = document.getElementById("num-b");
        var nannow;
        var who ;
        var result= document.getElementById("result");
        

        function get(){
            numbera = document.getElementById("num-a").value;
            numberb = document.getElementById("num-b").value;
            nana=isNaN(numbera);
            nanb=isNaN(numberb);
            
            if(who ==1){numbernow =numbera;
                       nannow =nana;
                       //console.log("我变了a")
                      }//用于选择后自动更新选择的数据.
            else if(who==2){numbernow =numberb;
                      nannow =nanb;
                      //console.log("我变了b")
                      }//用于选择后自动更新选择的数据.
        }//用于获取所有数据
        nana.addEventListener("change",get);//自动侦测数据改变并获取
        nanb.addEventListener("change",get);//自动侦测数据改变并获取
        
        box1.addEventListener("change",function(){           
            //console.log(numbera+" b "+numberb)
            var ev =window.event;
            var target = ev.target;
            if(target.nodeName.toLocaleLowerCase() == "input"){
               switch(target.id){
                   case "radio-a":
                   numbernow =numbera;
                   nannow =nana;
                   who = 1//用于标记选择了谁
                   
                   //console.log("a"+nannow);
                   break;
                   case "radio-b":
                   numbernow =numberb;
                   nannow =nanb
                   who = 2//用于标记选择了谁
                   //console.log("a"+nannow);
                   break;  
               }        
            };    
        })
        
        
        box2.addEventListener("click",function(){
            var ev=window.event;
            var target=ev.target;
            if(target.nodeName.toLocaleLowerCase()=="button"){
                switch(target.id){
                    
                    case "btn1":
                   //console.log(numbernow);
                    if(numbernow == undefined){
                        alert("请选中")
                    }
                    else if(nannow ==true || numbernow ==""){
                        alert("选中的"+numbernow+"不是数字")
                    } 
                    else{
                        alert("选中的"+numbernow+"选中的是数字")
                    }       
                    //console.log(nannow);
                    break;
                    
                    
                    
                    
                    case "btn2":
                    if(nana == false && nanb == false && numbera!=""&& numberb!=""&&numberb>=0){
                       var integer= Math.round(numberb)
                       console.log(integer)//用于将b数字整数化
                       result.innerHTML = Number(numbera).toFixed(integer);                                             
                    }
                    else{
                        console.log("输入错误")
                    }
                    
                    break;
                    
                    
                    
                    case "btn3":
                    if(nannow == false && numbernow!="" ){
                       result.innerHTML= Math.abs(numbernow)
                    }
                    else{
                        console.log("输入错误"+numbernow)
                    }
                    
                    break;
                    
                    
                    case "btn4":
                    if(nannow == false && numbernow!="" ){
                       result.innerHTML= Math.ceil(numbernow);
                       console.log("4")
                    }
                    else{
                        console.log("输入错误"+numbernow)
                    }
                    
                    break;
                    
                    
                    case "btn5":
                    if(nannow == false && numbernow!="" ){
                       result.innerHTML= Math.floor(numbernow)
                       console.log("5")
                       
                    }
                    else{
                        console.log("输入错误"+numbernow)
                    }
                    
                    break;
                    
                    
                    case "btn6":
                    if(nannow == false && numbernow!="" ){
                       result.innerHTML= Math.round(numbernow)
                    }
                    else{
                        console.log("输入错误"+numbernow)
                    }
                    
                    break;
                    
                    
                    
                    case "btn7":
                    if(nana == false && nanb == false && numbera!=""&& numberb!=""){
                       result.innerHTML = Math.max(numbera,numberb)                                             
                    }
                    else{
                        console.log("输入错误")
                    }
                    
                    break;
                    
                    
                    case "btn8":
                    if(nana == false && nanb == false && numbera!=""&& numberb!=""){
                       result.innerHTML = Math.min(numbera,numberb)                                             
                    }
                    else{
                        console.log("输入错误")
                    }
                    
                    break;

                }
            }
            
        })

    </script>
    
</body>
</html>

