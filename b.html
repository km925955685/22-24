<!DOCTYPE html>
<htmle>
    <head>


    </head>

    <body>
        <div id="box1">
            <label>String A:
                <input id="radio-a" type="radio" checked="true" name="str-obj" value="a">
            </label>
            <textarea id="str-a"></textarea>
            <label>String B:
                <input id="radio-b" type="radio" name="str-obj" value="b">
            </label>
            <textarea id="str-b"></textarea>        
            <label>Num A：<input id="num-a" type="number" value="0"></label>
            <label>Num B：<input id="num-b" type="number" value="1"></label>
        </div>
        <div id="box2">
            <button id="btn1">获取当前选中输入的内容长度</button>
            <button id="btn2">当前选中输入中的第3个字符</button>
            <button id="btn3">把两个输入框的文字连接在一起输出（concat）</button>
            <button id="btn4">输入B中的内容，在输入A的内容中第一次出现的位置（indexOf）</button>
            <button id="btn5">输入A中的内容，在输入B的内容中最后一次出现的位置（lastIndexOf）</button>
            <button id="btn6">使用slice获取选中输入框内容的部分内容，参数为num-a及num-b</button>
            <button id="btn7">当前选中输入框的行数</button>
            <button id="btn7">使用substr获取选中输入框内容的子字符串，参数为num-a及num-b</button>
            <button id="btn8">把所选输入框中的内容全部转为大写</button>
            <button id="btn9">把所选输入框中的内容全部转为小写</button>
            <button id="btn10">把所选输入框中内容的半角空格全部去除</button>
            <button id="btn11">把所选输入框中内容的a全部替换成另外一个输入框中的内容</button>
        </div>
        <p id="result"></p>


        <script>
            var  texta =document.getElementById("str-a");
            var  textb =document.getElementById("str-b");
            var inputa =document.getElementById("radio-a");
            var inputb =document.getElementById("radio-b");
            var box1 =document.getElementById("box1");
            var box2 = document.getElementById("box2");
            var textnow=texta;
            var result =document.getElementById("result")
            var stra =texta.value;
            var strb =textb.value;
            var numa=document.getElementById("num-a").value
            var numb=document.getElementById("num-b").value


            function get(){
                texta =document.getElementById("str-a");// =document.getElementById("str-a");
                textb =document.getElementById("str-b");
                stra =texta.value;
                strb =textb.value;
                numa=document.getElementById("num-a").value;
                numb=document.getElementById("num-b").value;
                //这里我做了个小实验..变量只会直接继承值,而不是它的那个赋值公式  
                //console.log(texta +textb+stra+strb)
                if(textnow==texta){
                    textnow=stra;
                }
                else if(textnow==textb){
                    textnow=strb
                }//自动给now赋值

                //inputa =document.getElementById("radio-a");
                //inputb =document.getElementById("radio-b");
                console.log("get")
            }

            //texta.addEventListener("change",get);
            //textb.addEventListener("change",get);
                //自动获取最新的键入内容,已经废弃
            function radiocheck(){
                get();//借助代理,所有change都能触发一次get.以保证数据随时获取
                var ev=window.event;
                var target=ev.target;
                if(target.nodeName.toLocaleLowerCase() == "input"){
                    if(target==inputa){
                        textnow=texta                       
                    }
                    else if(target ==inputb){
                        textnow = textb
                    }
                }
                /*if(inputa.checked == "true"){
                    console.log("checka")
                }
                else if(inputa.checked == "true"){
                    console.log("checkb")
                }
                checked属性并没有被识别的样子*/
            }
            
            box1.addEventListener("change",radiocheck)//识别选中了谁.
            box2.addEventListener("click",function(){
                var ev =window.event;
                var target=ev.target;
                switch(target.id){
                    case "btn1":
                    result.innerHTML=textnow.length;
                    //console.log(textnow);
                    break
                    
                    case "btn2":
                    if(textnow.length < 3){
                        alert("选中字符长度小于3")
                    }
                    else{
                        result.innerHTML=textnow.slice(2,3)
                    }
                    

                    break

                    case "btn3":
                    var all =stra.concat(strb)
                    //var all =stra+strb
                    //console.log(all)
                    result.innerHTML=all;
                    break;

                    case "btn4":
                    console.log(strb);
                    result.innerHTML=stra.indexOf(strb);//a的字符串在b中第一次出现位置.从0开始计算,-1则是不存在
                    break;

                    case "btn5":
                    console.log(stra);
                    result.innerHTML=strb.lastIndexof(stra);
                    break

                    case"btn6":
                    if(textnow.length < numa){
                        alert("选中字符长度小于a")
                    }
                    else if(textnow.length < numb){
                        alert("选中字符长度小于b")
                    }
                    else{
                    result.innerHTML=textnow.slice(numa,numb)

                    }
                    break

                    case"btn7":
                    //行数无法理解...
                    break

                    case"btn8":
                    result.innerHTML=textnow.toLocaleUpperCase()
                    break

                    case"btn9":
                    result.innerHTML=textnow.toLocaleLowerCase()
                    break

                    case"btn10":
                    result.innerHTML=textnow.replace(/^[\s　]+|[\s　]+$/g, "")
                    break

                    case"btn11":
                    result.innerHTML=textnow.replace(/a/ig,strb)

                    

                }

            })


        
        </script>
           
    </body>





</htmle>

